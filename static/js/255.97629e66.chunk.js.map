{"version":3,"file":"static/js/255.97629e66.chunk.js","mappings":"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","sources":["pages/CatalogPage/ui/BouquetPage.tsx","shared/lib/hooks/useForma.ts","shared/lib/hooks/useFiltr.ts","shared/lib/hooks/useBtnMore.ts","shared/lib/hooks/useBtnClose.ts","shared/lib/hooks/useAddInCart.ts","widgets/Carousel/ui/Carousel.tsx"],"sourcesContent":["import \"./style.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Breadcrumbs, Button, LinkTo, Card } from \"shared/ui\";\r\nimport { Carousel } from \"widgets/Carousel\";\r\nimport { catalog, additional } from \"shared/model/arr\";\r\nimport { item } from \"types/types\";\r\nimport { useAddInCart } from \"shared/lib\";\r\n\r\nfunction BouquetPage() {\r\n  const { id } = useParams();\r\n  const title = catalog.find((item) => item.id === Number(id))?.title,\r\n    price = catalog.find((item) => item.id === Number(id))?.price,\r\n    img = catalog.find((item) => item.id === Number(id))?.img;\r\n  const arrPaths = [\r\n    { namePage: \"Каталог \", linkPage: \"catalog\" },\r\n    { namePage: ` / ${title}` },\r\n  ];\r\n  const popular = [];\r\n  for (let item of catalog) if (item.mark ===\"hit\") popular.push(item);\r\n  const addInCart = useAddInCart();\r\n\r\n  return (\r\n    <div className=\"bouquet\">\r\n      <div className=\"container\">\r\n        <Breadcrumbs arr={arrPaths} />\r\n        <div className=\"bouquetInfo\">\r\n          <img src={img} className=\"bouquetInfo__img\"></img>\r\n          <div className=\"bouquetInfo__text\">\r\n            <LinkTo href=\"catalog\" text=\"&#60; Назад\" cls=\"link-back\" />\r\n            <h3 className=\"bouquetInfo__title\">{title}</h3>\r\n            <p className=\"price bouquetInfo__price\"><span>{price}</span> ₽</p>\r\n            <p className=\"bouquetInfo__info\">\r\n              Состав: Гвоздика (Диантус), Леукодендрон, Леукоспермум (Нутан),\r\n              Лотос, Роза\r\n            </p>\r\n            <p className=\"bouquetInfo__info\">\r\n              Завораживающая глубина ваших чувств передана красками этого букета\r\n            </p>\r\n            <button className=\"btn-opacity\" onClick={addInCart}>В корзину</button>\r\n            {/* <div className=\"bouquetInfo__incart\">\r\n              <p className=\"cartContainer__quanity\">\r\n                <button onClick={onClickMinus}>&#8722;</button>\r\n                <span>{count}</span>\r\n                <button onClick={onClickPlus}>&#43;</button>\r\n              </p>\r\n            </div> */}\r\n          </div>\r\n        </div>\r\n        <div className=\"bouquetAdditional\">\r\n          <h3 className=\"bouquetAdditional__title text-pink\">\r\n            Дополнительно к заказу:\r\n          </h3>\r\n          <ul className=\"bouquetAdditional__list\">\r\n            {additional.map((item, num) => (\r\n              <li key={num}>\r\n                <h3 className=\"text-mint\">{item.title}</h3>\r\n                <p>{item.desc} </p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"bouquetLike\">\r\n          <h2 className=\"bouquetLike__title text-mint\">\r\n            Вам может понравиться:\r\n          </h2>\r\n          <Carousel cls=\"bouquetPopular popular\">\r\n            {popular.map((item: item, num: number) => (\r\n              <Card\r\n                id={num}\r\n                key={num}\r\n                cls=\"card\"\r\n                image={item.img}\r\n                title={item.title}\r\n                onClick={addInCart}\r\n              >\r\n                <p className=\"price card__price\">\r\n                  <span>{item.price}</span> ₽\r\n                </p>\r\n                <Button className=\"btn-opacity\" text=\"В корзину\" />\r\n              </Card>\r\n            ))}\r\n          </Carousel>\r\n        </div>\r\n      </div>\r\n      <img\r\n        src={require(\"../../../assets/images/bg-img/card-leaf.png\")}\r\n        className=\"bouquet__flower bouquet__flower-one\"\r\n      />\r\n      <div className=\"bouquet__green-one green blur\"></div>\r\n      <div className=\"bouquet__green-two green blur\"></div>\r\n      <div className=\"bouquet__green-three green blur\"></div>\r\n      <div className=\"bouquet__green-four green blur\"></div>\r\n      <div className=\"bouquet__pink-one pink blur\"></div>\r\n      <div className=\"bouquet__pink-two pink blur\"></div>\r\n      <div className=\"bouquet__pink-three pink blur\"></div>\r\n      <div className=\"bouquet__pink-four pink blur\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BouquetPage;","import { SubmitHandler, useForm } from 'react-hook-form';\r\nimport { Fields } from 'types/types';\r\n\r\nexport const useForma = () => {\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit,\r\n    reset,\r\n  } = useForm<Fields>({\r\n    mode: \"onBlur\",\r\n  });\r\n\r\n  const onSubmit: SubmitHandler<Fields> = (data, event) => {\r\n    const successMess = event?.target.querySelector('.successSend');\r\n    if (successMess) successMess.classList.add('visible');\r\n\r\n    console.log(data);\r\n    reset();\r\n  };\r\n\r\n  return {\r\n    register,\r\n    errors,\r\n    handleSubmit: handleSubmit(onSubmit),\r\n  };\r\n};","import { item } from \"types/types\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setCategory, setSortPice, setFiltrPriceMin, setFiltrPriceMax } from \"../redux/reducer/filtrSlice\";\r\nimport { RootState, useAppDispatch } from \"../redux/store\";\r\n\r\nconst SORT_BY_UP_PRICE = \"upPrice\";\r\nconst SORT_BY_DOWN_PRICE = \"downPrice\"; \r\n\r\nexport const useFiltr = (arr: item[]) => {\r\n  const dispatch = useAppDispatch();\r\n  let category = useSelector((state: RootState) => state.filter.category);\r\n  let sortPrice = useSelector((state: RootState) => state.filter.sortPrice);\r\n  let filtrPriceMin = useSelector((state: any) => state.filter.filtrPriceMin) || { minPrice: 0 };\r\n  const filtrPriceMax = useSelector((state: any) => state.filter.filtrPriceMax) || { maxPrice: 10000000 };\r\n\r\n  const filteredList = arr\r\n    .filter((item: item) => {\r\n      return (\r\n        filtrPriceMin.minPrice <= item.price &&\r\n        item.price <= filtrPriceMax.maxPrice &&\r\n        (category ===\"\" || category ===item.mark)\r\n      );\r\n    })\r\n    .sort((a: item, b: item) => {\r\n      if (sortPrice === SORT_BY_UP_PRICE) return a.price - b.price;\r\n      if (sortPrice === SORT_BY_DOWN_PRICE) return b.price - a.price;\r\n      return 0;\r\n    });\r\n  const resetFilters = () => {\r\n      const inputElements = document.querySelectorAll<HTMLInputElement>('input[type=\"text\"]'),\r\n      radioElements = document.querySelectorAll<HTMLInputElement>('input[type=\"radio\"]');\r\n      \r\n      inputElements.forEach((input) => (input.value = \"\"));\r\n      radioElements.forEach((radio) => (radio.checked = false));\r\n      \r\n      dispatch(setCategory(''));\r\n      dispatch(setSortPice(''));\r\n      dispatch(setFiltrPriceMin(0));\r\n      dispatch(setFiltrPriceMax(0));\r\n  };\r\n\r\n  return [filteredList, resetFilters];\r\n};\r\n","import { useState } from \"react\";\r\nimport { item } from \"types/types\";\r\n\r\nexport const useBtnMore = (arr: any, quanityElem: number): [item[], () => void] => {\r\n  const [quanity, setQuanity] = useState(quanityElem);\r\n  const sliceArr = arr.slice(0, quanity);\r\n\r\n  const loadMore = () => setQuanity(quanityElem + quanity);\r\n  return [sliceArr, loadMore];\r\n};","import { useEffect } from \"react\";\r\n\r\nexport const useBtnClose = (setActive: Function) => {\r\n  useEffect(() => {\r\n    const close = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") setActive(false);\r\n    };\r\n    window.addEventListener(\"keydown\", close);\r\n    return () => window.removeEventListener(\"keydown\", close);\r\n  }, [setActive]);\r\n};\r\n","import { addProduct } from \"shared/lib/redux/reducer/cartSlice\";\r\nimport { useAppDispatch } from \"../redux/store\";\r\n\r\nexport const useAddInCart = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const getItemDetails = (elem: HTMLElement | null) => {\r\n    const id = Number(elem?.id);\r\n    const title = elem?.querySelector(\"h3\")?.textContent ?? null;\r\n    const price = Number(elem?.querySelector(\".price span\")?.textContent);\r\n    const img = elem?.querySelector(\"img\")?.src ?? null;\r\n    return { id, title, price, img };\r\n  };\r\n\r\n  const updateButtonText = (btn: HTMLButtonElement | null, text: string, timeout: number) => {\r\n    if (btn) {\r\n      btn.textContent = text;\r\n      setTimeout(() => btn.textContent = \"В корзину\", timeout);\r\n    }\r\n  };\r\n  \r\n  const addInCart: React.MouseEventHandler<HTMLElement> = (event) => {\r\n    const elem = (event.target as HTMLElement).parentElement?.parentElement;\r\n    if (!elem) return;\r\n    const item = getItemDetails(elem);\r\n    const btn = elem.querySelector(\"button\") as HTMLButtonElement | null;\r\n    updateButtonText(btn, \"Добавлено в корзину\", 2000);\r\n    dispatch(addProduct(item));\r\n  };\r\n  return addInCart;\r\n};\r\n","import \"./style.css\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport Slider from \"react-slick\";\r\nimport { Icon } from \"shared/ui\";\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n  cls: string;\r\n};\r\n\r\nconst settings = {\r\n  arrow: true,\r\n  infinite: true,\r\n  slidesToShow: 3,\r\n  slidesToScroll: 1,\r\n  nextArrow: <Icon type=\"next\" />,\r\n  prevArrow: <Icon type=\"prev\" />,\r\n  responsive: [\r\n    {\r\n      breakpoint: 1024,\r\n      settings: {\r\n        slidesToShow: 2,\r\n      },\r\n    },\r\n    {\r\n      breakpoint: 600,\r\n      settings: {\r\n        slidesToShow: 1,\r\n      },\r\n    },\r\n  ],\r\n};\r\n\r\nexport function Carousel({ children, cls }: Props) {\r\n  return (\r\n    <div>\r\n      <Slider className={cls} {...settings}>\r\n        {children}\r\n      </Slider>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["_catalog$find","_catalog$find2","_catalog$find3","id","useParams","title","catalog","find","item","Number","price","img","arrPaths","namePage","linkPage","concat","popular","mark","push","addInCart","useAddInCart","_jsxs","className","children","_jsx","Breadcrumbs","arr","src","LinkTo","href","text","cls","onClick","additional","map","num","desc","Carousel","Card","image","Button","require","useForma","register","formState","errors","handleSubmit","reset","useForm","mode","onSubmit","data","event","successMess","target","querySelector","classList","add","console","log","useFiltr","dispatch","useAppDispatch","category","useSelector","state","filter","sortPrice","filtrPriceMin","minPrice","filtrPriceMax","maxPrice","sort","a","b","resetFilters","inputElements","document","querySelectorAll","radioElements","forEach","input","value","radio","checked","setCategory","setSortPice","setFiltrPriceMin","setFiltrPriceMax","useBtnMore","quanityElem","quanity","setQuanity","useState","slice","loadMore","useBtnClose","setActive","useEffect","close","e","key","window","addEventListener","removeEventListener","_parentElement","elem","parentElement","_elem$querySelector$t","_elem$querySelector","_elem$querySelector2","_elem$querySelector$s","_elem$querySelector3","textContent","getItemDetails","updateButtonText","btn","timeout","setTimeout","addProduct","settings","arrow","infinite","slidesToShow","slidesToScroll","nextArrow","Icon","type","prevArrow","responsive","breakpoint","_ref","Slider"],"sourceRoot":""}